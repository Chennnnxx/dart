
extends ../ui_layout
  
block content
  -var cdn = "https://dhpd030vnpk29.cloudfront.net";
  
  

  .computer.only.tablet.only.four.wide.column 
    .ui.sticky(style='width: 272px !important; height: 500px !important; left: 64.5px;')
      .ui.vertical.menu(style="width:auto;")
        a.active.item(data-value='feed')#feedsteps 
          i.icon.home
          |  Home
        a.item(data-value='notifications')#notificationsteps
          i.icon.bell
          |  Notifications
          .ui.red.right.pointing.label !

  #content.eight.wide.computer.ten.wide.tablet.sixteen.wide.mobile.column()
        
    //-feed
    //-.ui.bottom.attached.segment#step0
    #step0.ui.fluid.card.test.feedDisplay
          .content(postID="3" data-hint="This is a social media timeline. You will get notifications when your friends like or comment on your posts." data-hintPosition="middle-middle")
            .right.floated.meta= "Yesterday"
            |
            a(href='/user/zachpeters06')
              img.ui.avatar.image(src=cdn+'/profile_pictures/user67.jpg')
              span='Zach Peters'
          .image
            img.post(src=cdn+'/post_pictures/space_habits.jpg')
          #step4.content
            .description="check out my new wallpaper üòç"
            //-.right.floated.meta
              i.icon.checkmark
              | Seen by 12
          .three.ui.bottom.attached.icon.buttons
            .ui.reply.button(tabindex='0')
              i.reply.icon
              |  Reply
            .ui.flag.button(tabindex='0')
              i.flag.icon
              |  Flag
            .ui.labeled.button(tabindex='0')
              .ui.like.button
                i.heart.icon
                |  Like
              a.ui.basic.red.left.pointing.label.count=2
          
          .content
            .ui.comments
              .comment
                a.avatar
                  img(src=cdn+'/profile_pictures/user21.jpg')
                .content
                  a.author David Cole
                  .metadata
                    span.date Yesterday
                    i.heart.icon
                    |  2 Likes
                  .text()
                    | i have one just like that on my iPad!!
                  .actions
                    a.like Like
                    a.flag Flag    
              .comment
                a.avatar
                  img(src=cdn+'/profile_pictures/user22.jpeg')
                .content
                  a.author Lana Sheehan
                  .metadata
                    span.date Yesterday
                    i.heart.icon
                    |  2 Likes
                  .text()
                    | cool
                  .actions
                    a.like Like
                    a.flag Flag
          .extra.content
            .ui.fluid.left.labeled.right.icon.input
              .ui.label
                img.ui.avatar.image(src=cdn+'/profile_pictures/'+user.profile.picture, name=user.profile.name)
              input.newcomment(type='text' placeholder='Write a Comment')
              i.big.send.link.icon#sendComment1
    //-%%%%%%%%%%%%%%%%%%%%%%%%%
    #step5.ui.fluid.card.test.feedDisplay(postID="3")
          .content
            .right.floated.meta= "Yesterday"
            |
            a(href='/user/cloe.htt')
              img.ui.avatar.image(src=cdn+'/profile_pictures/user3.jpg')
              span='Cloe Hansen'
          .image
            img.post(src=cdn+"/post_pictures/sunset_friends_habits.jpg")
          .content
            .description="love you all like sisters <3 "
            //-.right.floated.meta
              i.icon.checkmark
              | Seen by 12
          .three.ui.bottom.attached.icon.buttons
            .ui.reply.button(tabindex='0')
              i.reply.icon
              |  Reply
            .ui.flag.button(tabindex='0')
              i.flag.icon
              |  Flag
            .ui.labeled.button(tabindex='0')
              .ui.like.button
                i.heart.icon
                |  Like
              a.ui.basic.red.left.pointing.label.count=3
          
          .content
            .ui.comments
              .comment
                a.avatar
                  img(src=cdn+'/profile_pictures/user46.jpg')
                .content
                  a.author Dylan Friedman 
                  .metadata
                    span.date Yesterday
                    i.heart.icon
                    |  3 Likes
                  .text()
                    | LYLAS &gt;3 
                  .actions
                    a.like Like
                    a.flag Flag    
              .comment
                a.avatar
                  img(src=cdn+'/profile_pictures/user47.jpeg')
                .content
                  a.author Ariel Simon 
                  .metadata
                    span.date Yesterday
                    i.heart.icon
                    |  3 Likes
                  .text()
                    | ily 
                  .actions
                    a.like Like
                    a.flag Flag
                    
              .comment
                a.avatar
                  img(src=cdn+'/profile_pictures/user69.jpg')
                .content
                  a.author Hannah Cohn
                  .metadata
                    span.date Yesterday
                    i.heart.icon
                    |  3 Likes
                  .text()
                    | so much love for you guys
                  .actions
                    a.like Like
                    a.flag Flag
                    
            .extra.content
              .ui.fluid.left.labeled.right.icon.input
                .ui.label
                  img.ui.avatar.image(src=cdn+'/profile_pictures/'+user.profile.picture, name=user.profile.name)
                input.newcomment(type='text' placeholder='Write a Comment')
                i.big.send.link.icon
                          
                    
                    
    .ui.fluid.card.test.feedDisplay(postID="4")
          .content
            .right.floated.meta= "Yesterday"
            |
            a(href='/user/jlp777')
              img.ui.avatar.image(src=cdn+'/profile_pictures/user13.png')
              span='Jason Perez'
          .image
            img.post(src=cdn+"/post_pictures/theater_habits.jpg")
          .content
            .description="Getting ready for the opening show tonite! "
            //-.right.floated.meta
              i.icon.checkmark
              | Seen by 12
          .three.ui.bottom.attached.icon.buttons
            .ui.reply.button(tabindex='0')
              i.reply.icon
              |  Reply
            .ui.flag.button(tabindex='0')
              i.flag.icon
              |  Flag
            .ui.labeled.button(tabindex='0')
              .ui.like.button
                i.heart.icon
                |  Like
              a.ui.basic.red.left.pointing.label.count=1
          
          .content
            .ui.comments
              .comment
                a.avatar
                  img(src=cdn+'/profile_pictures/user70.JPG')
                .content
                  a.author Zoe Goodall
                  .metadata
                    span.date Yesterday
                    i.heart.icon
                    |  1 Likes
                  .text()
                    | break a leg ;)!
                  .actions
                    a.like Like
                    a.flag Flag    
  
          .extra.content
            .ui.fluid.left.labeled.right.icon.input
              .ui.label
                img.ui.avatar.image(src=cdn+'/profile_pictures/'+user.profile.picture, name=user.profile.name)
              input.newcomment(type='text' placeholder='Write a Comment')
              i.big.send.link.icon
                
                
    .ui.fluid.card.test.feedDisplay(postID="3")
          .content
            .right.floated.meta= "Yesterday"
            |
            a(href='/user/gracieeeeee82')
              img.ui.avatar.image(src=cdn+'/profile_pictures/user62.jpg')
              span='Grace Burns'
          .image
            img.post(src=cdn+"/post_pictures/cafe_aesthetic_habits.jpg")
          .content
            .description="~ cafe vibes ~"
            //-.right.floated.meta
              i.icon.checkmark
              | Seen by 12
          .three.ui.bottom.attached.icon.buttons
            .ui.reply.button(tabindex='0')
              i.reply.icon
              |  Reply
            .ui.flag.button(tabindex='0')
              i.flag.icon
              |  Flag
            .ui.labeled.button(tabindex='0')
              .ui.like.button
                i.heart.icon
                |  Like
              a.ui.basic.red.left.pointing.label.count=2
          
          .content
            .ui.comments  
              .comment
                a.avatar
                  img(src=cdn+'/profile_pictures/user71.JPG')
                .content
                  a.author Andrew Thomas
                  .metadata
                    span.date Yesterday
                    i.heart.icon
                    |  1 Likes
                  .text()
                    | this aesthetic tho üôåüèΩ
                  .actions
                    a.like Like
                    a.flag Flag
                    
              .comment
                a.avatar
                  img(src=cdn+'/profile_pictures/user72.jpg')
                .content
                  a.author Gabby Rogers
                  .metadata
                    span.date Yesterday
                    i.heart.icon
                    |  0 Likes
                  .text()
                    | is this the new place that opened up??
                  .actions
                    a.like Like
                    a.flag Flag
                    
            .extra.content
              .ui.fluid.left.labeled.right.icon.input
                .ui.label
                  img.ui.avatar.image(src=cdn+'/profile_pictures/'+user.profile.picture, name=user.profile.name)
                input.newcomment(type='text' placeholder='Write a Comment')
                i.big.send.link.icon
                    
    .ui.fluid.card.test.feedDisplay(postID="3")
          .content
            .right.floated.meta= "Yesterday"
            |
            a(href='/user/goaliegirl')
              img.ui.avatar.image(src=cdn+'/profile_pictures/user29.jpg')
              span='Breana Summers'
          .image
            img.post(src=cdn+"/post_pictures/code_habits.jpg")
          .content
            .description="first coding project, complete ‚úÖ"
            //-.right.floated.meta
              i.icon.checkmark
              | Seen by 12
          .three.ui.bottom.attached.icon.buttons
            .ui.reply.button(tabindex='0')
              i.reply.icon
              |  Reply
            .ui.flag.button(tabindex='0')
              i.flag.icon
              |  Flag
            .ui.labeled.button(tabindex='0')
              .ui.like.button
                i.heart.icon
                |  Like
              a.ui.basic.red.left.pointing.label.count=2
          
          .content
            .ui.comments  
              .comment
                a.avatar
                  img(src=cdn+'/profile_pictures/user73.JPG')
                .content
                  a.author Noah Liebman
                  .metadata
                    span.date Yesterday
                    i.heart.icon
                    |  1 Likes
                  .text()
                    | wOAH
                  .actions
                    a.like Like
                    a.flag Flag
                    
              .comment
                a.avatar
                  img(src=cdn+'/profile_pictures/user74.jpg')
                .content
                  a.author Ryan Freyer
                  .metadata
                    span.date Yesterday
                    i.heart.icon
                    |  0 Likes
                  .text()
                    | do you code???
                  .actions
                    a.like Like
                    a.flag Flag
    //-#######################
    //-Notifications page
    button.ui.basic.button.notificationsDisplay(style="display:none;")#settingsButton
      i.cog.icon
      |   Settings
      
    button.ui.basic.button.notificationsDisplay(style="display:none;")#activityButton
      i.clock.icon
      |   My Activity

    .ui.raised.segment.notificationsDisplay(style="display:none;")
     .ui.feed
      .event
        //-CSS properties: https://stackoverflow.com/questions/26421274/css-circular-cropping-of-rectangle-image
        .label(style="overflow:hidden !important; width:3em !important; height:3em !important")
          img(src=cdn +'/profile_pictures/user22.jpeg' style="width:100% !important; height:100% !important; display:inline  !important; margin:0 auto !important;")
        .content
          .summary Lana Sheehan commented on Zach Peters‚Äô post: ‚Äúcool‚Äù.
          
    .ui.raised.segment.notificationsDisplay(style="display:none;")
     .ui.feed
      .event
        //-CSS properties: https://stackoverflow.com/questions/26421274/css-circular-cropping-of-rectangle-image
        .label(style="overflow:hidden !important; width:3em !important; height:3em !important")
          img(src=cdn +'/profile_pictures/user69.jpg' style="width:100% !important; height:100% !important; display:inline  !important; margin:0 auto !important;")
        .content
          .summary Hannah Cohn commented on Cloe Hansen‚Äôs post: ‚Äúso much love for you guys‚Äù.
          
    .ui.raised.segment.notificationsDisplay(style="display:none;")
     .ui.feed
      .event
        //-CSS properties: https://stackoverflow.com/questions/26421274/css-circular-cropping-of-rectangle-image
        .label(style="overflow:hidden !important; width:3em !important; height:3em !important")
          img(src=cdn +'/profile_pictures/user3.jpg' style="width:100% !important; height:100% !important; display:inline  !important; margin:0 auto !important;")
        .content
          .summary Cloe Hansen posted: ‚Äúlove you all like sisters &gt;3 ‚Äù.
          
    .ui.raised.segment.notificationsDisplay(style="display:none;")
     .ui.feed
      .event
        //-CSS properties: https://stackoverflow.com/questions/26421274/css-circular-cropping-of-rectangle-image
        .label(style="overflow:hidden !important; width:3em !important; height:3em !important")
          img(src=cdn +'/profile_pictures/user28.jpg' style="width:100% !important; height:100% !important; display:inline  !important; margin:0 auto !important;")
        .content
          .summary Corey King liked Grace Burns‚Äô post: ‚Äú~ cafe vibes ~‚Äù.
          
    .ui.raised.segment.notificationsDisplay(style="display:none;")
     .ui.feed
      .event
        //-CSS properties: https://stackoverflow.com/questions/26421274/css-circular-cropping-of-rectangle-image
        .label(style="overflow:hidden !important; width:3em !important; height:3em !important")
          img(src=cdn +'/profile_pictures/user13.png' style="width:100% !important; height:100% !important; display:inline  !important; margin:0 auto !important;")
        .content
          .summary Jason Perez posted: ‚ÄúGetting ready for the opening show tonite! ‚Äù.
          
    .ui.raised.segment.notificationsDisplay(style="display:none;")
     .ui.feed
      .event
        //-CSS properties: https://stackoverflow.com/questions/26421274/css-circular-cropping-of-rectangle-image
        .label(style="overflow:hidden !important; width:3em !important; height:3em !important")
          img(src=cdn +'/profile_pictures/user72.jpg' style="width:100% !important; height:100% !important; display:inline  !important; margin:0 auto !important;")
        .content
          .summary Gabby Rogers commented on Grace Burns‚Äôs post: ‚Äúis this the new place that opened up??‚Äù.

    .ui.raised.segment.notificationsDisplay(style="display:none;")
     .ui.feed
      .event
        //-CSS properties: https://stackoverflow.com/questions/26421274/css-circular-cropping-of-rectangle-image
        .label(style="overflow:hidden !important; width:3em !important; height:3em !important")
          img(src=cdn +'/profile_pictures/user62.jpg' style="width:100% !important; height:100% !important; display:inline  !important; margin:0 auto !important;")
        .content
          .summary Grace Burns posted: ‚Äú~ cafe vibes ~‚Äù.
          
          
          
    //-Settings display

    .ui.container.settingsDisplay(style="display:none;")
      h2.ui.header Notification Settings
      .ui.divider
      br
      form.ui.form
        .field
          br
          .ui.toggle.checkbox
            input(type='checkbox' name='public' checked='checked')
            label Popup Alerts
        span.settingLabel Disabling this will stop popup alerts. 
        br
        br           
          
    


block scripts
  script().
    
    $('.ui.sticky')
      .sticky()
    ;
    var literacy_counter = 0;
    function startIntro(){
      
        var intro = introJs().setOptions({ 'hidePrev': true, 'hideNext': true, 'exitOnOverlayClick': false, 'showStepNumbers':false, 'showBullets':false, 'scrollToElement':true, 'doneLabel':'Done &#10003' });
          intro.setOptions({
            steps: [
              { 
                element: document.querySelectorAll('#step0')[0],
                intro: "Now that we have seen features that grabs your attention on social media, let‚Äôs learn some strategies that can help you build healthy social media habits.",
                position: "right",
                scrollTo: 'tooltip'
              },
              { 
                element: document.querySelectorAll('#step0')[0],
                intro: "Click on the blue dots&nbsp;<a role='button' tabindex='0' class='introjs-hint'><div class='introjs-hint-dot'></div><div class='introjs-hint-pulse'></div></a> &nbsp; &nbsp; &nbsp; to learn more...",
                position: "right",
                scrollTo: 'tooltip'
              }     
            ]
          });
          
          intro.start().onexit(function() {
            var hints = introJs().addHints()
            
            console.log(hints);
            console.log('hints added')
            
            hints.onhintclick(function(hintElement, item, stepId) {
                console.log('hint clicked', hintElement, item, stepId);
            });
            
            hints.onhintclose(function(e) {
             literacy_counter++;
             if(literacy_counter == 1) {
               console.log('UPDATING ATTR');
               $('#notificationsteps').attr({
                 "data-hint":'hello!',
                 'data-hintPosition':'middle-middle'
               });
               $('.ui.fluid.card.test.feedDisplay .content').removeAttr('data-hint data-hintPosition');
               
               var hints2 = introJs().addHints();
               console.log('HINTS ADDED');
               hints2.refresh();
             }
            });
            
            /*$("#sendComment1").on('click', function(){
              console.log("sent clicked, refresh called");
              hints.refresh();
            });*/
            
            $(".ui.vertical.menu a.item").on('click', function(){
              console.log("MENU CLICK!");
              $('.ui.vertical.menu a.item').removeClass('active');
              $(this).addClass('active');
              if($(this).data().value === 'feed'){
                $('.feedDisplay').show();
                $(".settingsDisplay").hide();
                $("#feedsteps").addClass('active');
                $('.notificationsDisplay').hide();
                $('#notificationsteps').removeClass('active');
                //hints.refresh();

              } else if ($(this).data().value === 'notifications'){
                $(".feedDisplay").hide();
                $(".settingsDisplay").hide();
                $("#feedsteps").removeClass('active');
                $(".notificationsDisplay").show();
                $("#notificationsteps").addClass('active');
                //hints.refresh();
                
              }
            });
                
          });          
      };

      $(window).on("load", function() {
        startIntro();
        
      });
      
      $('#settingsButton').on('click', function(){
        $('.notificationsDisplay').hide();
        $('.settingsDisplay').show();
      });
