extends ui_layout
  
block content

  
  
  .computer.only.tablet.only.four.wide.column 
    .ui.card
      //- this is the for user card - does not show up on mobile
      .image
        if user.profile.picture
          img(src=user.profile.picture)
        else
          img(src=user.gravatar(60))
      .content
        a.header= user.profile.name || user.email || user.id

  .eight.wide.computer.ten.wide.tablet.sixteen.wide.mobile.column
    if notification_feed == -1
      p You have no notifications. I guess no one likes you...jk! ðŸ˜œ
    else
      .ui.feed
        each val in notification_feed
          case val.action
            when 'read'
              - var best = val.actors.splice(0, 5);
              .event
                .label
                  i.large.unhide.icon
                .content
                  img.ui.tiny.right.floated.image(src='/user_post/'+val.picture)
                  .extra.images
                    each actor in best
                      a.ui.avatar.image(href='/user/'+actor.username)
                        img(src=actor.profile.picture)
                  if best.length == 1
                    .summary
                      a(href='/user/'+best[0].username)=best[0].profile.name
                      |   has read your post. 
                      .date=val.time
                  else 
                    .summary
                      a(href='/user/'+best[0].username)=best[0].profile.name
                      |  and 
                      a.others(key=val.key)=(best.length+val.actors.length-1)+" others "
                      | have read your post.  
                      .date=val.time
              .ui.small.long.extrausers.modal(id=val.key)
                .image.content
                  .ui.extra.divided.items
                    each extra in val.actors
                      .ui.centered.item
                        .image
                          a(href='/user/'+extra.username)
                            img.ui.avatar.image(src='/avatar-icon.svg', data-original=extra.profile.picture)
                            span=extra.profile.name
                    
                             
            when 1
              p you have very few friends
            default
        
              