
extends ../ui_layout
  
block content
  -var cdn = "https://dhpd030vnpk29.cloudfront.net";
  .computer.only.tablet.only.four.wide.column 
  #content.eight.wide.computer.ten.wide.tablet.sixteen.wide.mobile.column()
    #step3.ui.fluid.card.test(postID="3")
          .content
              
            .ui.right.floated.menu(style="border:none; box-shadow:none;")
              .ui.dropdown.icon.item
                i.ellipsis.horizontal.icon
                .menu.fluid.floated.left#item1
                  .item(data-value='0')
                    i.fitted.circular.close.icon(style="color:gray;")
                    | Hide Ad
                  .item(data-value='1')
                    i.fitted.circular.exclamation.icon(style="color:gray;")
                    | Report Ad
                  .item(data-value='2')
                    i.fitted.circular.question.icon(style="color:gray;") 
                    | Why Am I Seeing This Ad?
                  
          
            a(href='/user/andrewthomas_')
              img.ui.avatar.image(src=cdn+'/profile_pictures/user71.JPG')
              span='Company Name'
                
          .image
            img.post(src=cdn+'/post_pictures/digfootga1.jpg')
              
      
          #step4.content
            .description
              | Here is where the sponsored post description would go with a hashtag 
              span#hashtag #ad
            //-.right.floated.meta
              i.icon.checkmark
              | Seen by 12
          .content#sponsoredTag(style="border:none;")
            i.left.floated.external.alternate.icon(style="color:gray;")
            .left.floated.meta="Sponsored"
          .ui.bottom.attached.icon.buttons
            //-.ui.reply.button(tabindex='0')
              i.reply.icon
              |  Reply
            //-.ui.flag.button(tabindex='0')
              i.flag.icon
              |  Flag
            .ui.labeled.button(tabindex='0')
              .ui.like.button#likeButton
                i.heart.icon
                |  Like
              a.ui.basic.red.left.pointing.label.count=2
          
          //-.content
            .ui.comments
              .comment
                a.avatar
                  img(src=cdn+'/profile_pictures/user52.jpg')
                .content
                  a.author Connor McCormick
                  .metadata
                    span.date 5 hours ago
                    i.heart.icon
                    |  2 Likes
                  .text()
                    | haha that sucks
                  .actions
                    a.like Like
                    a.flag Flag
          //-.extra.content
            .ui.fluid.left.labeled.right.icon.input
              .ui.label
                img.ui.avatar.image(src=cdn+'/profile_pictures/'+user.profile.picture, name=user.profile.name)
              input.newcomment(type='text' placeholder='Write a Comment')
              i.big.send.link.icon
    

block scripts
  script().
  

    
    

    
    function startIntro(){

    
        var intro = introJs().setOptions({ 'hidePrev': true, 'hideNext': true, 'exitOnOverlayClick': false, 'showStepNumbers':false, 'showBullets':false, 'scrollToElement':true, 'doneLabel':'Done &#10003' });
        
        $('.ui.dropdown.icon.item').dropdown({
          duration: 0
        });
      
          intro.setOptions({
            steps: [
              { 
                element: document.querySelectorAll('#step3')[0],
                intro: "Sometimes, advertisements and sponsored posts can look very similar to your friends’ posts on social media.",
                position: "right",
                scrollTo: 'tooltip',
                onchange: function(){
                  console.log("changed");
                }
              },
              { 
                element: document.querySelectorAll('#step3')[0],
                intro: "Here are some tips that can help you figure out if a post is an advertisement or not.",
                position: "right",
                scrollTo: "tooltip"
              },
              {
                element: document.querySelectorAll('#sponsoredTag')[0],
                intro: "Advertisements on social media have the words “<i>AD</i>,” “<i>Advertisement</i>,” “<i>Promoted</i>,” or “<i>Sponsored</i>” at the top or bottom of a post.",
                position: "left",
                scrollTo: "tooltip"
              },
              { 
                element: document.querySelectorAll('#hashtag')[0],
                intro: "You can also look at the text of the post to see if it contains a hashtag such as #ad, #advertisement, or #sponsored.",
                position: "right",
                scrollTo: "tooltip"
              },
              { 
                element: document.querySelectorAll('#hashtag')[0],
                intro: "You might also notice that the post is from someone you don’t know and is not your social media friend, even though your friend might have liked or commented on the post!",
                position: "right",
                scrollTo: "tooltip"
              },
              { 
                element: document.querySelectorAll('#item1')[0],
                intro: "If you decide a post is an advertisement, here are a few things you can do.",
                position: "right",
                scrollTo: "tooltip"
              },
              { 
                element: document.querySelectorAll('#item1')[0],
                intro: "If the advertisement is not relevant to you, or you don’t want to see it again, you can click “<i>Hide ad</i>” to get rid of the advertisement from your timeline.",
                position: "right",
                scrollTo: "tooltip"
              },
              { 
                element: document.querySelectorAll('#item1')[0],
                intro: "If the advertisement is offensive or inappropriate, you can click “Report ad” report it to the website.",
                position: "right",
                scrollTo: "tooltip"
              },
              { 
                element: document.querySelectorAll('#item1')[0],
                intro: "You can click “Why am I seeing this ad?” to learn more about how the website decided to show you the advertisement.",
                position: "right",
                scrollTo: "tooltip"
              },
              { 
                element: document.querySelectorAll('#step3')[0],
                intro: "Remember, you can always ignore the advertisement!",
                position: "right",
                scrollTo: "tooltip"
              }
            ]
          });
          
          intro.onbeforechange(function() {
              console.log("change");
              console.log($(this)[0]._currentStep);
              if(($(this)[0]._currentStep >= 5) && ($(this)[0]._currentStep < 9)){
                $('.ui.dropdown.icon.item').dropdown({
                  duration: 0
                });
                $('.ui.dropdown.icon.item').dropdown('show');
                if($(this)[0]._currentStep === 6){
                  $('.ui.dropdown.icon.item')
                    .dropdown('set selected', '0');
                } else if ($(this)[0]._currentStep === 7){
                  $('.ui.dropdown.icon.item')
                    .dropdown('set selected', '1');
                } else if ($(this)[0]._currentStep === 8){
                  $('.ui.dropdown.icon.item')
                    .dropdown('set selected', '2');
                } else {
                  $('.ui.dropdown.icon.item')
                    .dropdown('clear');
                }
                intro.refresh();
                
              } else {
                $('.ui.dropdown.icon.item')
                  .dropdown('clear');
                $('.ui.dropdown.icon.item').dropdown('hide');
                
              }
          });
          
          intro.start().onexit(function() {
            window.location.href='/sim/digfoot';
          });
          
      };

      $(window).on("load", function() {startIntro();});
